if (self.CavalryLogger) { CavalryLogger.start_js(["Y4M74"]); }

__d("StoriesViewerSuspenseWithEntryPoint.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometStyleXSheet","QuickPerformanceLogger","React","StoriesBucketError.react","StoriesCenterPaneErrorBoundary.react","StoriesCometLeftRailRootWithEntryPoint.react","StoriesEnums","StoriesLoggerSession","StoriesQueryArgumentsContext","StoriesResizeToView.react","StoriesRootError.react","StoriesSetBucketHelper","StoriesSuspenseBucketDataContext","StoriesSuspenseBucketTransitioningContext","StoriesSuspenseContentPanePlaceholder.react","StoriesSuspenseContentPaneRootWithEntryPoint.react","StoriesSuspenseContentPaneRootWithEntryPointQuery$Parameters","StoriesSuspenseNavigationPaneHelpers","StoriesSuspenseViewerKeyboardListener.react","StoriesUtils","StoriesViewerSuspenseEventEmitterContext","WebFunnelLogger","cometTestID","gkx","storiesViewerSuspenseEmitter","stylex","useCometWindowSize","useRefetchablePreloadedQuery","useStable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("CometStyleXSheet").rootStyleSheet;var h=b("React").useEffect,i=b("React").useMemo,j=b("React").useState,k=b("StoriesEnums").NAV_DIRECTIONS;c.injectTheme();function a(a){__p&&__p();var c=b("useStable")(function(){return b("storiesViewerSuspenseEmitter")()}),d=a.bucketID,e=a.cardID,f=a.openSource,l=a.traySessionID,m=a.viewerSessionID,n=j(!1),o=n[0],p=n[1];n=j({bucketID:d,bucketIndex:-1,isFirstBucket:!0,isLastBucket:!0});var q=n[0],r=n[1];n=j(k.NEXT_BUCKET);var s=n[0],t=n[1];h(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebTrayViewerV2FunnelDefinition").setSessionKey((a=m)!=null?a:"null").setAction("Viewer Mounted").log();new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=m)!=null?a:"null").setAction("Viewer Mounted").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer mounted");b("StoriesLoggerSession").initialize(l,m,f)},[f,l,m]);n=j("store-or-network");var u=n[0];n=n[1];u=b("useRefetchablePreloadedQuery")(b("StoriesSuspenseContentPaneRootWithEntryPointQuery$Parameters"),a.queries.storiesSuspenseContentPaneRootReference,u);var v=u[0];u=u[1];var w=q.bucketID,x=q.bucketIndex,y=w==="",z=b("useCometWindowSize")(),A=i(function(){function a(a){b("StoriesSetBucketHelper").updateBucketData(r,p,q,a,v)}return{bucketData:q,bucketNavDirection:s,setBucketData:a,setNavigationDirection:t}},[q,s,v]),B=i(function(){return{isBucketTransitionInProgress:o,setIsBucketTransitionInProgress:p}},[o,p]),C=i(function(){return{hideSelfBucket:!1,initialBucketID:d,initialBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getInitialBucketsCount(),pageBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getPageBucketsCount()}},[d]);return b("StoriesUtils").shouldResizeToViewStories(z.innerHeight)?b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesResizeToView.react"),{})}):b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesQueryArgumentsContext").Provider,{value:C,children:b("React").jsx(b("StoriesViewerSuspenseEventEmitterContext").Provider,{value:c,children:b("React").jsx(b("StoriesSuspenseBucketTransitioningContext").Provider,{value:B,children:b("React").jsx(b("StoriesSuspenseBucketDataContext").Provider,{value:A,children:b("React").jsx("div",babelHelpers["extends"]({className:"k4urcfbm datstx6m"},b("cometTestID")("viewer_dialog"),{id:"viewer_dialog",children:b("React").jsxs(b("StoriesSuspenseViewerKeyboardListener.react"),{children:[b("React").jsx(b("StoriesCometLeftRailRootWithEntryPoint.react"),{initialBucketID:d,queryReference:a.queries.storiesSuspenseNavigationPaneRootReference,viewerSessionID:m,children:b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:y}),children:b("React").jsx(b("StoriesCenterPaneErrorBoundary.react"),{bucketIndex:x,fallback:function(a){return b("React").jsx(b("StoriesBucketError.react"),{bucketID:w,cardID:"",error:a})},children:b("React").jsx(b("StoriesSuspenseContentPaneRootWithEntryPoint.react"),{bucketID:w,initialBucketID:d,initialCardID:e,queryRefernce:u,updateFetchPolicy:n,viewerSessionID:m})})})}),b("gkx")("678680")&&b("React").jsx("div",{className:"fwizqjfa j9ispegn pmk7jnqg cyypbtt7 g7xisrfe ljqsnud1 i09qtzwb v0lkmu4y",children:g._("SV")})]})}))})})})})})}e.exports=a}),null);