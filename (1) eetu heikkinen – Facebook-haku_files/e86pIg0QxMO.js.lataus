if (self.CavalryLogger) { CavalryLogger.start_js(["zwNIc"]); }

__d("StoriesSuspenseContentPaneRootWithEntryPoint.react",["QuickPerformanceLogger","React","StoriesActorContext","StoriesRelay","StoriesSuspenseContentPane.react","StoriesSuspensePendingRefetchBucketIDsContext","WebFunnelLogger","stylex","StoriesSuspenseContentPaneRootWithEntryPointQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useEffect,i=b("React").useMemo,j=b("React").useRef;b("StoriesRelay").graphql;var k=b("StoriesRelay").usePreloadedQuery;function l(a,b){var c;c=a==null?void 0:(c=a.unified_stories)==null?void 0:c.edges;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:a.id;var d=b!=null&&b!==""?b:a;b=c&&d!=null?c.findIndex(function(a){return((a=a.node)==null?void 0:a.id)===d}):-1;return Math.max(b,0)}function a(a){__p&&__p();var c=a.bucketID,d=a.initialBucketID,e=a.initialCardID,f=a.queryRefernce,m=a.updateFetchPolicy,n=a.viewerSessionID,o=j(null),p=j(null);a=k(g!==void 0?g:g=b("StoriesSuspenseContentPaneRootWithEntryPointQuery.graphql"),f);h(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebTrayViewerV2FunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Loaded").markEnd().log();new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=n)!=null?a:"null").setAction("Viewer Loaded").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer loaded")},[n]);var q=(f=l(a==null?void 0:a.initialBucket,e))!=null?f:(e=o.current)==null?void 0:e.initialCardIndex,r=(f=a==null?void 0:a.viewer)!=null?f:(e=o.current)==null?void 0:e.viewer;e=r==null?void 0:(f=r.actor)==null?void 0:f.id;h(function(){o.current===null&&(o.current={initialCardIndex:q,viewer:r})},[q,r]);if(e===(a==null?void 0:(f=a.bucket)==null?void 0:(f=f.story_bucket_owner)==null?void 0:f.id)){p.current=a==null?void 0:(f=a.bucket)==null?void 0:f.id}f=i(function(){return{setShouldRefetchSelfBucket:function(a){a=a&&p.current===c?"network-only":"store-or-network";m(a)}}},[c,m]);return b("React").jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg stjgntxs ni8dbmo4 taijpn5t n7fi1qx3 j83agx80 i09qtzwb tqsryivl bp9cbjyn",children:b("React").jsx(b("StoriesActorContext").Provider,{value:{actorID:e},children:b("React").jsx(b("StoriesSuspensePendingRefetchBucketIDsContext").Provider,{value:f,children:b("React").jsx(b("StoriesSuspenseContentPane.react"),{LWRAnimations:r,bucket:a==null?void 0:a.bucket,initialBucketID:d,initialCardIndex:q})})})})}e.exports=a}),null);